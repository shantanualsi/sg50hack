<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=7,IE=8,IE=9,IE=10" />
    <title>OneMap-Add Map</title>
    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type='text/javascript' src='onemapinteg.js'></script>
    <script type='text/javascript' src='heatmap.js'></script>
    <script language="javascript" type="text/javascript">
       
        //add map with defined center location and zoom level
        //lat long = 1.254572, 103.819449
        var centerPoint = "26456.41309436758,26349.724355403632"
        var levelNumber = 6;
        var OneMap = new GetOneMap('divMain', 'SM', { level: levelNumber, center: centerPoint });

        function getCurrentLevel() {
            alert("Current Level:" + OneMap.map.getLevel())
        }

    </script>

    <script language="javascript" type="text/javascript">

    function getHeatMap(){
        // minimal heatmap instance configuration
            var heatmapInstance = h337.create({
              // only container is required, the rest will be defaults
              container: document.querySelector('.tundra')
            });

            // now generate some random data
            var points = [];
            var max = 0;
            var width = 840;
            var height = 400;
            var len = 200;

            while (len--) {
              var val = Math.floor(Math.random()*100);
              max = Math.max(max, val);
              var point = {
                x: Math.floor(Math.random()*width),
                y: Math.floor(Math.random()*height),
                value: val
              };
              points.push(point);
            }
            // heatmap data format
            var data = { 
              max: max, 
              data: points 
            };
            // if you have a set of datapoints always use setData instead of addData
            // for data initialization
            heatmapInstance.setData(data);
        }
    </script>    

</head>
<body class="tundra">
    <table>
        <tr>
            <td>
                <div id="divMain" style='width: 800px; height: 450px;position: absolute;top: 10%;left: 20%;'>
                </div>
            </td>
            
        </tr>
    </table>
    <input id="Button3" type="button" style="width: 150px" value="Current Map Level"
        onclick="getCurrentLevel()" />
</body>
</html>
